<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="../css/reset.css" type="text/css" rel="stylesheet"/>
<style type="text/css">
	.clearfix:after
		{content: ".";
		display: block;
		clear: both;
		visibility: hidden;
		line-height: 0;
		height: 0;}
	
	#codi > div
	{width: 901px; height: 600px;}
	
	#codi-canvas
	{width: 700px; height: inherit; background: gray; float: left;}
	
	#codi-box
	{width: 200px; height: inherit; background: green; border-left: solid 1px white; float: left;}
	
	#codi-box li
	{width: 150px; height: 150px; border: 2px solid black; background: beige;}
	
	#codi-box img
	{width: 80px;}

</style>
<script type="text/javascript">

	window.addEventListener("load", function(){
		
		var codiList = document.querySelector("#codi-box ul");
		//버블링을 막기 위함. 기본값 = true / false = 버블링 순서대로...
		codiList.addEventListener("click", function(){alert("ttt")}, true);
		
		var codiBox = document.querySelector("#codi-box");
			codiBox.addEventListener("click",function(event){
				if(event.target.nodeName == "LI"){
					alert("target : " + event.target.dataset.code);
					event.stopPropagation(); //ttt가 실행이 안됨.
				}
				else if(event.target.nodeName == "IMG"){					
					alert("parentTarget : " + event.target.parentNode.dataset.code);
					event.stopPropagation(); //ttt가 실행이 안됨.
				}
			event.preventDefault(); //a 태그에 링크된 페이지로 이동이 안됨
		}, true);
		
		
		//트리거. 
		var btnBox = document.querySelector("#button-box span");
			btnBox.onclick = function(){
				/* var event = new MouseEvent("click",{
					'view': window,
					'bubbles' : true,
					'cancelable': true
				}); //익스플로러는 안됨 
				*/
				var event = document.createEvent("MouseEvent");
				event.initEvent("click", true, true);
				
				var inputFile = document.querySelector("#button-box input");
				inputFile.dispatchEvent(event);
				
			};	
			 
	});

</script>

</head>
<body>
	<section id = "codi">
		<h1> 내코디 </h1>
		<div class="clearfix">
			<div id="codi-canvas">
				<input type="text" />
			</div>
			<div id="codi-box">
				<ul>
					<li data-code="1"><a href="calc.html"><img src="cody_img/co5.png" /></a></li>
					<li data-code="2"><img src="cody_img/co2.png" /></li>
					<li data-code="3"><img src="cody_img/co3.png" /></li>
					<li data-code="4"><img src="cody_img/co4.png" /></li>
				</ul>
			</div>
			<div id="button-box">
				<input type="file" id="item-upload" style="display: none;"/>
				<span style="background: pink; cursor: pointer;">파일선택</span>
			</div>
		</div>
	</section>
</body>
</html>